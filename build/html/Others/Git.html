<!DOCTYPE html>
<html class="writer-html5" lang="ch-CN" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Git相关 &mdash; Big Circle v1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="软件安装" href="Environment.html" />
    <link rel="prev" title="学习资料" href="Study_Documents.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Big Circle
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Autoware.AI/index.html">Autoware.AI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Autoware.Auto/index.html">Autoware.Auto</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Apollo/index.html">Apollo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../SLAM/index.html">SLAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROS/index.html">ROS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROS2/index.html">ROS2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Self-driving/index.html">Self-driving</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Docker/index.html">Docker</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Others</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Sphinx_and_Readthedocs.html">文档构建</a></li>
<li class="toctree-l2"><a class="reference internal" href="Study_Documents.html">学习资料</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Git相关</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bashgit">bash终端显示Git分支</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">备忘命令</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">远程仓库</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">分支管理</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">标签管理</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">远程仓库</a></li>
<li class="toctree-l3"><a class="reference internal" href="#git-config">git config</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">学习资料</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Environment.html">软件安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="Vim.html">Vim</a></li>
<li class="toctree-l2"><a class="reference internal" href="FAMT.html">先进制造技术基础</a></li>
<li class="toctree-l2"><a class="reference internal" href="Algorithm.html">算法笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="Linux.html">Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="Windows.html">Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="Tools.html">Github 常用工具链接</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../C%2B%2B/index.html">C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Python/index.html">Python</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Big Circle</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Others</a> &raquo;</li>
      <li>Git相关</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/Others/Git.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="git">
<h1>Git相关<a class="headerlink" href="#git" title="Permalink to this headline"></a></h1>
<div class="section" id="bashgit">
<h2>bash终端显示Git分支<a class="headerlink" href="#bashgit" title="Permalink to this headline"></a></h2>
<blockquote>
<div><p>将下列程序写在<code class="docutils literal notranslate"><span class="pre">.bashrc</span></code>文件中</p>
</div></blockquote>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># These shell commands block are for the purpose of displaying the</span>
<span class="c1"># current branch name of the current repository.</span>
find_git_branch <span class="o">()</span>
<span class="o">{</span>
  <span class="nb">local</span> <span class="nv">dir</span><span class="o">=</span>. head
  <span class="k">until</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$dir</span><span class="s2">&quot;</span> -ef / <span class="o">]</span><span class="p">;</span> <span class="k">do</span>
    <span class="k">if</span> <span class="o">[</span> -f <span class="s2">&quot;</span><span class="nv">$dir</span><span class="s2">/.git/HEAD&quot;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
      <span class="nv">head</span><span class="o">=</span><span class="k">$(</span>&lt; <span class="s2">&quot;</span><span class="nv">$dir</span><span class="s2">/.git/HEAD&quot;</span><span class="k">)</span>
      <span class="k">if</span> <span class="o">[[</span> <span class="nv">$head</span> <span class="o">=</span> ref:<span class="se">\ </span>refs/heads/* <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
        <span class="nv">git_branch</span><span class="o">=</span><span class="s2">&quot;(*</span><span class="si">${</span><span class="nv">head</span><span class="p">#*/*/</span><span class="si">}</span><span class="s2">)&quot;</span>
      <span class="k">elif</span> <span class="o">[[</span> <span class="nv">$head</span> !<span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
        <span class="nv">git_branch</span><span class="o">=</span><span class="s2">&quot;(*(detached))&quot;</span>
      <span class="k">else</span>
        <span class="nv">git_branch</span><span class="o">=</span><span class="s2">&quot;(*(unknow))&quot;</span>
      <span class="k">fi</span>
      <span class="k">return</span>
    <span class="k">fi</span>
    <span class="nv">dir</span><span class="o">=</span><span class="s2">&quot;../</span><span class="nv">$dir</span><span class="s2">&quot;</span>
  <span class="k">done</span>
  <span class="nv">git_branch</span><span class="o">=</span><span class="s1">&#39;&#39;</span>
<span class="o">}</span>
<span class="nv">PROMPT_COMMAND</span><span class="o">=</span><span class="s2">&quot;find_git_branch; </span><span class="nv">$PROMPT_COMMAND</span><span class="s2">&quot;</span>
<span class="nb">export</span> <span class="nv">PS1</span><span class="o">=</span><span class="s2">&quot;\[\e]0;\u@\h: \w\a\]</span><span class="si">${</span><span class="nv">debian_chroot</span><span class="p">:+(</span><span class="nv">$debian_chroot</span><span class="p">)</span><span class="si">}</span><span class="s2">\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\[\033[0;32m\]\$git_branch\[\033[0m\] \$ &quot;</span>
</pre></div>
</div>
<blockquote>
<div><p>在<code class="docutils literal notranslate"><span class="pre">.gitconfig</span></code>文件中添加别名</p>
</div></blockquote>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>alias<span class="o">]</span>
	<span class="nv">co</span> <span class="o">=</span> checkout
	<span class="nv">st</span> <span class="o">=</span> status
	<span class="nv">br</span> <span class="o">=</span> branch
	<span class="nv">ci</span> <span class="o">=</span> commit
	<span class="nv">lg</span> <span class="o">=</span> log --color --graph --pretty<span class="o">=</span>format:<span class="s1">&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#39;</span> --abbrev-commit
	<span class="nv">go</span> <span class="o">=</span> reset --hard
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h2>备忘命令<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h2>
<table border="1" class="docutils">
<thead>
<tr>
<th align="center">命令</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>git add --all</code></td>
<td align="center">将当前工作区（working directory）修改添加到暂存区（stage），只有添加到暂存区的修改才能被提交（commit）</td>
</tr>
<tr>
<td align="center"><code>git checkout branch_name</code></td>
<td align="center">切换到名为 branch_name 分支</td>
</tr>
<tr>
<td align="center"><code>git checkout -b branch_name</code></td>
<td align="center">创建名为 branch_name 的新分支</td>
</tr>
<tr>
<td align="center"><code>git checkout commit_id</code></td>
<td align="center">切换到 id 为 commit_id 对应的提交</td>
</tr>
<tr>
<td align="center"><code>git checkout tag_number</code></td>
<td align="center">切换到 tag 号 为 tag_number 对应的提交</td>
</tr>
<tr>
<td align="center"><code>git commit -m "comment"</code></td>
<td align="center">向本地仓库提交修改，comment 代表本次提交的注释内容</td>
</tr>
<tr>
<td align="center"><code>git push</code></td>
<td align="center">向远程仓库推送更新本地提交</td>
</tr>
<tr>
<td align="center"><code>git push --tags</code></td>
<td align="center">向远程仓库推送本地仓库的所有 tag 信息</td>
</tr>
<tr>
<td align="center"><code>git stash</code></td>
<td align="center">将工作区与暂存区中的修改临时保存到 git 栈（需要时可以恢复），并将工作区与暂存区恢复至上一次提交的状态</td>
</tr>
<tr>
<td align="center"><code>git stash save -u "message"</code></td>
<td align="center">将工作区与暂存区中的修改以及未被追踪的修改（-u）临时保存到 git 栈（需要时可以恢复），并将工作区与暂存区恢复至上一次提交的状态，message 表示此次操作的备注信息</td>
</tr>
<tr>
<td align="center"><code>git stash list</code></td>
<td align="center">列举当前 git 栈中所有被临时保存的修改，每一次临时修改都对应唯一的 stash_id，从 0 开始，依次往后追加</td>
</tr>
<tr>
<td align="center"><code>git stash pop</code></td>
<td align="center">将 git 栈栈顶（即最新的）的临时修改弹出并恢复至当前分支</td>
</tr>
<tr>
<td align="center"><code>git stash apply stash@{stash_id}</code></td>
<td align="center">将 git 栈中 stash_id 对应的临时修改恢复至当前分支，但不会删除 git 栈中的对应内容</td>
</tr>
<tr>
<td align="center"><code>git stash drop stash@{stash_id}</code></td>
<td align="center">将 git 栈中 stash_id 对应的临时修改删除</td>
</tr>
<tr>
<td align="center"><code>git stash clear</code></td>
<td align="center">删除 git 栈中所有的临时修改</td>
</tr>
<tr>
<td align="center"><code>git tag tag_number</code></td>
<td align="center">为最新提交打上名为 tag_number 的 tag 号</td>
</tr>
<tr>
<td align="center"><code>git tag tag_number commit_id</code></td>
<td align="center">为 id 为 commit_id 对应的提交打上名为 tag_number 的 tag 号</td>
</tr>
<tr>
<td align="center"><code>git tag -d tag_number</code></td>
<td align="center">删除本地仓库名为 tag_number 的 tag 号</td>
</tr>
<tr>
<td align="center"><code>git push origin :refs/tags/tag_number</code></td>
<td align="center">删除远程仓库名为 tag_number 的 tag 号</td>
</tr>
<tr>
<td align="center"><code>git reset --hard HEAD</code></td>
<td align="center">丢弃工作区与暂存区中的修改（未被跟踪的修改需要先添加至暂存区），并恢复至最新提交的状态</td>
</tr>
<tr>
<td align="center"><code>git reset --hard commit_id</code></td>
<td align="center">丢弃工作区与暂存区中的修改（未被跟踪的修改需要先添加至暂存区），并恢复至 id 为 commit_id 对应的提交的状态</td>
</tr>
<tr>
<td align="center"><code>git branch -a</code></td>
<td align="center">查看本地及远程的所有分支</td>
</tr>
<tr>
<td align="center"><code>git branch -D branch_name</code></td>
<td align="center">删除本地仓库名为 branch_name 的分支</td>
</tr>
<tr>
<td align="center"><code>git push origin --delete branch_name</code></td>
<td align="center">删除远程仓库仓库名为 branch_name 的分支</td>
</tr>
<tr>
<td align="center"><code>git log</code></td>
<td align="center">查看提交日志</td>
</tr>
<tr>
<td align="center"><code>git status</code></td>
<td align="center">查看工作树状态，分别列举工作区和暂存区中的修改</td>
</tr>
<tr>
<td align="center"><code>git diff</code></td>
<td align="center">详细展现工作树与上次提交间的变更</td>
</tr>
<tr>
<td align="center"><code>git diff branch1 branch2</code></td>
<td align="center">详细展现 branch2 分支相比 branch1 分支的修改</td>
</tr>
<tr>
<td align="center"><code>git config --list</code></td>
<td align="center">查看本地仓库的 git 配置</td>
</tr>
</tbody>
</table><ol>
<li><p>版本切换</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">HEAD</span></code> 指向的版本就是当前版本，切换版本使用命令 <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span> <span class="pre">--hard</span> <span class="pre">commit_id</span></code>。</p></li>
<li><p>切换前用 <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> 可以查看提交历史，以便确定要回退到哪个版本。</p></li>
<li><p>要切换未来版本，用 <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reflog</span></code> 查看命令历史，以便确定要回到未来的哪个版本。</p></li>
</ul>
</li>
<li><p>撤销修改</p>
<ul class="simple">
<li><p>场景1：如果改乱了工作区某个文件的内容，想直接丢弃工作区的修改时，用命令 <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">--</span> <span class="pre">file</span></code> 或 <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">restore</span> <span class="pre">&lt;file&gt;</span></code>。</p></li>
<li><p>场景2：如果不但改乱了工作区某个文件的内容，还添加到了暂存区时，想丢弃修改，分两步，第一步用命令 <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span> <span class="pre">HEAD</span> <span class="pre">&lt;file&gt;</span></code> 或 <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">restore</span> <span class="pre">--staged</span> <span class="pre">&lt;file&gt;...</span></code>，就回到了场景1，第二步按场景1操作。</p></li>
<li><p>场景3：已经提交了不合适的修改到版本库时，想要撤销本次提交，参考上一节，不过前提是没有推送到远程库。</p></li>
</ul>
</li>
<li><p>删除文件</p>
<ul class="simple">
<li><p>命令 <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rm</span></code> 用于删除一个文件。如果一个文件已经被提交到版本库，那么你永远不用担心误删，但是要小心，你只能恢复文件到最新版本，你会丢失最近一次提交后你修改的内容。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">--</span> <span class="pre">&lt;file&gt;</span></code> 或 <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">restore</span> <span class="pre">&lt;file&gt;</span></code> 其实是用版本库里的版本替换工作区的版本，无论工作区是修改还是删除，都可以“一键还原”。</p></li>
<li><p>从来没有被添加到版本库就被删除的文件，是无法恢复的！</p></li>
<li><p>删除远程文件夹</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># 删除单一文件夹</span>
git rm -r --cached <span class="nb">test</span> <span class="c1"># --cached 不会把本地的 test 文件夹删除</span>
git commit -m <span class="s2">&quot;delete test dir&quot;</span>
git push github main
<span class="c1"># 批量删除</span>
<span class="c1"># 先将需要删除的远程文件夹写在 .gitignore 文件中</span>
git rm -r --cached .
git add .
git commit -m <span class="s2">&quot;delete lots of folds&quot;</span>
git push github main
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="id2">
<h2>远程仓库<a class="headerlink" href="#id2" title="Permalink to this headline"></a></h2>
<ol>
<li><p>创建 SSH Key，添加到托管网站的个人设置中。</p>
<p><code class="docutils literal notranslate"><span class="pre">ssh-keygen</span> <span class="pre">-t</span> <span class="pre">rsa</span> <span class="pre">-C</span> <span class="pre">&quot;youremail&#64;example.com&quot;</span></code></p>
</li>
<li><p>添加远程库</p>
<ul class="simple">
<li><p>要关联一个远程库，使用命令 <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">origin</span> <span class="pre">git&#64;server-name:path/repo-name.git</span></code>；</p></li>
<li><p>关联一个远程库时必须给远程库指定一个名字，origin是默认习惯命名；</p></li>
<li><p>关联后，使用命令 <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">-u</span> <span class="pre">origin</span> <span class="pre">master</span></code> 第一次推送 <code class="docutils literal notranslate"><span class="pre">master</span></code> 分支的所有内容；</p></li>
<li><p>此后，每次本地提交后，只要有必要，就可以使用命令 <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">master</span></code> 推送最新修改。</p></li>
<li><p>Git支持多种协议，包括 https 和 ssh，但 ssh 协议速度最快。</p></li>
</ul>
</li>
</ol>
</div>
<div class="section" id="id3">
<h2>分支管理<a class="headerlink" href="#id3" title="Permalink to this headline"></a></h2>
<ol class="simple">
<li><p>创建与合并分支</p>
<ul class="simple">
<li><p>查看分支：<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span></code></p></li>
<li><p>创建分支：<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">&lt;name&gt;</span></code></p></li>
<li><p>切换分支：<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">&lt;name&gt;</span></code>或者<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">switch</span> <span class="pre">&lt;name&gt;</span></code></p></li>
<li><p>创建+切换分支：<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">&lt;name&gt;</span></code>或者<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">switch</span> <span class="pre">-c</span> <span class="pre">&lt;name&gt;</span></code></p></li>
<li><p>合并某分支到当前分支：<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span> <span class="pre">&lt;name&gt;</span></code></p></li>
<li><p>删除分支：<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">-d</span> <span class="pre">&lt;name&gt;</span></code></p></li>
</ul>
</li>
<li><p>解决冲突</p>
<ul class="simple">
<li><p>当Git无法自动合并分支时，就必须首先解决冲突。解决冲突后，再提交，合并完成。</p></li>
<li><p>解决冲突就是把Git合并失败的文件手动编辑为我们希望的内容，再提交。</p></li>
<li><p>用<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span> <span class="pre">--graph</span></code>命令可以看到分支合并图。</p></li>
</ul>
</li>
<li><p>分支管理策略</p>
<ul class="simple">
<li><p>通常，合并分支时，如果可能，Git会用<code class="docutils literal notranslate"><span class="pre">Fast</span> <span class="pre">forward</span></code>模式，但这种模式下，删除分支后，会丢掉分支信息。</p></li>
<li><p>如果要强制禁用<code class="docutils literal notranslate"><span class="pre">Fast</span> <span class="pre">forward</span></code>模式，Git就会在merge时生成一个新的commit，这样，从分支历史上就可以看出分支信息。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span> <span class="pre">--no-ff</span> <span class="pre">-m</span> <span class="pre">&quot;infomation&quot;</span> <span class="pre">&lt;name&gt;</span></code></p></li>
</ul>
</li>
<li><p>Bug分支</p>
<ul class="simple">
<li><p>修复bug时，我们会通过创建新的bug分支进行修复，然后合并，最后删除。</p></li>
<li><p>当手头工作没有完成时，先把工作现场git stash一下，然后去修复bug。</p></li>
<li><p>修复后，<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span> <span class="pre">list</span></code>可以查看工作现场，恢复的两个方法：一是用<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span> <span class="pre">apply</span></code>恢复，但是恢复后，stash内容并不删除，你需要用<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span> <span class="pre">drop</span></code>来删除；另一种方式是用<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span> <span class="pre">pop</span></code>，恢复的同时把stash内容也删了。</p></li>
<li><p>在master分支上修复的bug，想要合并到当前dev分支，可以用<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">cherry-pick</span> <span class="pre">&lt;commit&gt;</span></code>命令，把bug提交的修改“复制”到当前分支，避免重复劳动。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">stash</span> <span class="pre">apply</span> <span class="pre">stash&#64;{0}</span></code>恢复指定的stash。</p></li>
</ul>
</li>
<li><p>Feature分支</p>
<ul class="simple">
<li><p>开发一个新feature，最好新建一个分支；如果要丢弃一个没有被合并过的分支，可以通过<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">-D</span> <span class="pre">&lt;name&gt;</span></code>强行删除。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">master</span></code>分支是主分支，因此要时刻与远程同步。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>分支是开发分支，团队所有成员都需要在上面工作，所以也需要与远程同步。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bug</span></code>分支只用于在本地修复bug，就没必要推到远程了，除非老板要看看你每周到底修复了几个bug。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">feature</span></code>分支是否推到远程，取决于你是否和你的小伙伴合作在上面开发。</p></li>
</ul>
</li>
<li><p>多人协作</p>
<ul class="simple">
<li><p>查看远程库信息，使用<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">-v</span></code>。</p></li>
<li><p>本地新建的分支如果不推送到远程，对其他人就是不可见的。</p></li>
<li><p>从本地推送分支，使用<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">branch-name</span></code>，如果推送失败，先用<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code>抓取远程的新提交。</p></li>
<li><p>在本地创建和远程分支对应的分支，使用<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">branch-name</span> <span class="pre">origin/branch-name</span></code>，本地和远程分支的名称最好一致。</p></li>
<li><p>建立本地分支和远程分支的关联，使用<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">--set-upstream</span> <span class="pre">branch-name</span> <span class="pre">origin/branch-name</span></code>。</p></li>
<li><p>从远程抓取分支，使用<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code>，如果有冲突，要先处理冲突。</p></li>
</ul>
</li>
<li><p>Rebase</p>
<ul class="simple">
<li><p>rebase操作可以把本地未push的分叉提交历史整理成直线；</p></li>
<li><p>rebase的目的是使得我们在查看历史提交的变化时更容易，因为分叉的提交需要三方对比。</p></li>
</ul>
</li>
</ol>
</div>
<div class="section" id="id4">
<h2>标签管理<a class="headerlink" href="#id4" title="Permalink to this headline"></a></h2>
<ol class="simple">
<li><p>创建标签</p>
<ul class="simple">
<li><p>命令<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">tag</span> <span class="pre">&lt;tagname&gt;</span></code>用于新建一个标签，默认为HEAD，也可以指定一个commit id；</p></li>
<li><p>命令<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">tag</span> <span class="pre">-a</span> <span class="pre">&lt;tagname&gt;</span> <span class="pre">-m</span> <span class="pre">&quot;infomation&quot;</span></code>可以指定标签信息；</p></li>
<li><p>命令<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">tag</span></code>可以查看所有标签。</p></li>
</ul>
</li>
<li><p>删除标签</p>
<ul class="simple">
<li><p>命令<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">&lt;tagname&gt;</span></code>可以推送一个本地标签；</p></li>
<li><p>命令<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">--tags</span></code>可以推送全部未推送过的本地标签；</p></li>
<li><p>命令<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">tag</span> <span class="pre">-d</span> <span class="pre">&lt;tagname&gt;</span></code>可以删除一个本地标签；</p></li>
<li><p>命令<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">:refs/tags/&lt;tagname&gt;</span></code>可以删除一个远程标签。</p></li>
</ul>
</li>
</ol>
</div>
<div class="section" id="id5">
<h2>远程仓库<a class="headerlink" href="#id5" title="Permalink to this headline"></a></h2>
<ol class="simple">
<li><p>常用指令</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">-v</span></code>查看远程库信息</p></li>
<li><p>使用多个远程库时，我们要注意，git给远程库起的默认名称是origin，如果有多个远程库，我们需要用不同的名称来标识不同的远程库。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">github</span> <span class="pre">git&#64;github.com:xxx.git</span></code>;<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">gitee</span> <span class="pre">git&#64;gitee.com:xxx.git</span></code></p></li>
</ul>
</li>
</ol>
</div>
<div class="section" id="git-config">
<h2>git config<a class="headerlink" href="#git-config" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>git config --global -e  # 默认为 --global
git config  -e    # or git config --edit
git config --list
git config --global core.editor vim  # 配置默认编辑器 vim

#  设置代理服务- 全局
git config --global http.proxy  socks5://127.0.0.1:1080 # 代理服务器
git config --global https.proxy socks5://127.0.0.1:1080

git config --global --unset http.proxy   # 撤销代理服务器
git config --global --unset https.proxy

git config --global --get http.proxy   # 查询理服务器
git config --global --get https.proxy


#设置代理服务 - 只对github.com
git config --global http.https://github.com.proxy socks5://127.0.0.1:1080

#取消代理
git config --global --unset http.https://github.com.proxy


# 记住密码
$ git config credential.helper store # 永久记住密码
$ git config credential.helper cache  # 临时记住密码15分钟
$ git config credential.helper &#39;cache --timeout=3600&#39; # 临时记住密码1小时
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h2>学习资料<a class="headerlink" href="#id6" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p><a class="reference external" href="http://gitbook.liuhui998.com/index.html">Git Community Book中文版</a></p></li>
<li><p><a class="reference external" href="https://git-scm.com/book/zh/v2">Git教程</a></p></li>
<li><p><a class="reference external" href="http://git.oschina.net/progit/">Pro Git中文版</a></p></li>
<li><p><a class="reference external" href="http://git.mydoc.io/">Gitee帮助文档</a></p></li>
<li><p><a class="reference external" href="https://learngitbranching.js.org/?locale=zh_CN">learngitbranching</a></p></li>
<li><p><a class="reference external" href="http://www.jizhuomi.com/software/436.html">Git使用流程规范</a></p></li>
<li><p><a class="reference external" href="https://segmentfault.com/a/1190000006062453">Gitlab项目分支管理的一种策略</a></p></li>
<li><p><a class="reference external" href="http://blog.csdn.net/hudashi/article/details/7664631/">Git rebase简介</a></p></li>
<li><p><a class="reference external" href="http://www.ruanyifeng.com/blog/2012/07/git.html">Git分支管理策略</a></p></li>
<li><p><a class="reference external" href="http://www.ruanyifeng.com/blog/2020/04/git-cherry-pick.html">git cherry-pick教程</a></p></li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Study_Documents.html" class="btn btn-neutral float-left" title="学习资料" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Environment.html" class="btn btn-neutral float-right" title="软件安装" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, dafa.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>